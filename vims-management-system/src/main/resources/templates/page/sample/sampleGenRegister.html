<article class="gi-article-content gi-col-95 gi-row-100">
    <section class="gi-col-100 gi-row-100 gi-overflow-scroll">
        <div class="gi-container-narrow">

            <!-- 페이지 헤더 -->
            <header class="gi-margin-bottom-40px">
                <h1 class="gi-font-size-36px gi-title-main">샘플 추가</h1>
                <p class="gi-subtitle-main">새로운 프로젝트를 위한 상세 정보를 입력해 주세요.</p>
            </header>

            <form id="sampleRegistrationForm">

                <!-- [기본 정보 카드] -->
                <div class="gi-article-content gi-margin-bottom-30px">
                    <h2 class="gi-title-section">기본 정보</h2>
                    <div class="gi-flex gi-flex-column gi-grid-gap-20px">
                        <div class="gi-flex gi-grid-gap-20px">
                            <div class="gi-input-container gi-flex-1">
                                <label for="sample_name" class="gi-input-label" data-focus-label="true"
                                    data-required="true">샘플 명칭</label>
                                <input data-field="sample_name" id="sample_name" name="sample_name" class="gi-input"
                                    autocomplete="off" />
                            </div>

                            <div class="gi-input-container gi-flex-1">
                                <label for="sample_code" class="gi-input-label" data-focus-label="true"
                                    data-required="true">샘플 코드</label>
                                <input data-field="sample_code" id="sample_code" name="sample_code" class="gi-input"
                                    autocomplete="off" />
                            </div>
                        </div>

                        <div class="gi-flex gi-grid-gap-20px">
                            <div class="gi-input-container gi-flex-1">
                                <label for="sample_category" class="gi-input-label" data-focus-label="true"
                                    data-required="true">카테고리</label>
                                <input data-field="sample_category" id="sample_category" name="sample_category"
                                    class="gi-select" data-select />
                            </div>

                            <div class="gi-input-container gi-flex-1">
                                <label for="reg_date" class="gi-input-label" data-focus-label="true">등록 일자</label>
                                <input data-field="reg_date" id="reg_date" name="reg_date" class="gi-input"
                                    data-datepicker autocomplete="off" />
                            </div>
                        </div>
                    </div>
                </div>

                <!-- [파일 첨부 카드] -->
                <div class="gi-article-content gi-margin-bottom-30px">
                    <h2 class="gi-title-section">파일 첨부</h2>
                    <div class="gi-flex gi-flex-column gi-grid-gap-10px">
                        <div class="gi-flex gi-flex-align-items-center gi-grid-gap-20px">
                            <!-- UUID 입력창은 숨김 처리 -->
                            <input data-field="file_uuid" id="sample_file_uuid" name="file_uuid" class="gi-hidden"
                                readonly />

                            <div class="gi-flex-1">
                                <p class="gi-text-secondary gi-font-size-14px">
                                    첨부된 파일 목록을 아래에서 확인할 수 있습니다.
                                </p>
                            </div>
                            <button id="file-upload-btn" class="gi-btn-blue" type="button" data-file-upload-btn>파일
                                업로드</button>
                        </div>

                        <!-- 파일 목록 표시 영역 -->
                        <div id="attached-file-list" class="gi-margin-top-10px"
                            style="min-height: 50px; border: 1px solid #f0f1f7; border-radius: 12px; padding: 16px; background: #f8f9fc;">
                            <p class="gi-text-center gi-text-secondary gi-font-size-13px gi-padding-24px"
                                id="no-file-msg">
                                첨부된 파일이 없습니다.
                            </p>
                        </div>
                    </div>
                </div>

                <!-- 버튼 영역 -->
                <div class="gi-flex gi-flex-justify-content-center gi-grid-gap-16px gi-margin-top-40px">
                    <button id="sample-reset-btn" class="gi-btn gi-btn-modern-reset" type="button">초기화</button>
                    <button id="sample-save-btn" class="gi-btn-blue gi-btn-modern-save" type="button">저장하기</button>
                </div>

            </form>
        </div>
    </section>
</article>

<script type="text/javascript">
    var PRGMID = "sampleRegistrationForm";

    init();

    function init() {
        new PageInit();
        clickEvent();

        // select option 초기화
        input.setSelectOption("#sample_category", "/cms/common/comCode/find", { code: "code_id", name: "code_name" });

        // 파일 업로드 초기화
        fileUtil.createFileUpload("/fms/common/file/comFileDetail", "sample_file_uuid", "sampleFolder");
    }

    function clickEvent() {
        $("#sample-save-btn").on("click", function () {
            if (formUtil.validationCheck(PRGMID, "CHECK.")) {
                let data = dataBinding.getData(PRGMID);
                saveSample(data);
            }
        });

        $("#sample-reset-btn").on("click", function () {
            formUtil.popup("reset_confirm", "입력된 모든 내용이 초기화됩니다. 계속하시겠습니까?", function () {
                $("#" + PRGMID)[0].reset();
                new AfterLoadDataEvent();
                formUtil.toast("초기화되었습니다.");
            });
        });
    }

    function saveSample(data) {
        formUtil.popup("save_confirm", "작성한 정보를 등록하시겠습니까?", function () {
            console.log("Saving Data: ", data);
            formUtil.toast("성공적으로 등록되었습니다.");
        });
    }
</script>