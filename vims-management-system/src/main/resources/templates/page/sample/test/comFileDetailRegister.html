<article id="comFileDetailRegisterPage" class="gi-article-content gi-col-95 gi-row-100">
    <section class="gi-col-100 gi-row-100 gi-overflow-scroll">
        <div class="gi-container-narrow">

            <!-- 페이지 헤더 -->
            <header class="gi-margin-bottom-40px">
                <h1 class="gi-font-size-36px gi-title-main">[Page.Message].Message.Label.Array["COM_FILE_DETAIL.TITLE_REGISTER"]</h1>
                <p class="gi-subtitle-main">[Page.Message].Message.Label.Array["COM_FILE_DETAIL.SUB_TITLE_REGISTER"]</p>
            </header>

            <form id="comFileDetailRegisterFrom">

                <!-- [기본 정보 카드] -->
                <div class="gi-article-content gi-margin-bottom-30px">
                    <h2 class="gi-title-section">기본 정보</h2>
                    <div class="gi-flex gi-flex-column gi-grid-gap-20px">

                        <div class="gi-flex gi-grid-gap-20px">
                            <div class="gi-input-container gi-flex-1">
                                <label for="file_id" class="gi-input-label" data-focus-label="true"
                                    data-required="true">[Page.Message].Message.Label.Array["COM_FILE_DETAIL.FILE_ID"]</label>
                               <input data-field="file_id" id="file_id" name="file_id" class="gi-input" data-focus-span-text-align="center" data-required="true" autocomplete="off"/>
                            </div>
                        </div>

                        <div class="gi-flex gi-grid-gap-20px">
                            <div class="gi-input-container gi-flex-1">
                                <label for="uuid" class="gi-input-label" data-focus-label="true"
                                    data-required="true">[Page.Message].Message.Label.Array["COM_FILE_DETAIL.UUID"]</label>
                               <input data-field="uuid" id="uuid" name="uuid" class="gi-input" data-focus-span-text-align="center" data-required="true" autocomplete="off"/>
                            </div>
                        </div>

                        <div class="gi-flex gi-grid-gap-20px">
                            <div class="gi-input-container gi-flex-1">
                                <label for="file_name" class="gi-input-label" data-focus-label="true"
                                    data-required="true">[Page.Message].Message.Label.Array["COM_FILE_DETAIL.FILE_NAME"]</label>
                               <input data-field="file_name" id="file_name" name="file_name" class="gi-input" data-focus-span-text-align="center" data-required="true" autocomplete="off"/>
                            </div>
                        </div>

                        <div class="gi-flex gi-grid-gap-20px">
                            <div class="gi-input-container gi-flex-1">
                                <label for="file_size" class="gi-input-label" data-focus-label="true"
                                    data-required="true">[Page.Message].Message.Label.Array["COM_FILE_DETAIL.FILE_SIZE"]</label>
                               <input data-field="file_size" id="file_size" name="file_size" class="gi-input" data-focus-span-text-align="center" data-required="true" autocomplete="off"/>
                            </div>
                        </div>

                        <div class="gi-flex gi-grid-gap-20px">
                            <div class="gi-input-container gi-flex-1">
                                <label for="file_extension" class="gi-input-label" data-focus-label="true"
                                    data-required="true">[Page.Message].Message.Label.Array["COM_FILE_DETAIL.FILE_EXTENSION"]</label>
                               <input data-field="file_extension" id="file_extension" name="file_extension" class="gi-input" data-focus-span-text-align="center" data-required="true" autocomplete="off"/>
                            </div>
                        </div>

                        <div class="gi-flex gi-grid-gap-20px">
                            <div class="gi-input-container gi-flex-1">
                                <label for="file_path" class="gi-input-label" data-focus-label="true"
                                    data-required="true">[Page.Message].Message.Label.Array["COM_FILE_DETAIL.FILE_PATH"]</label>
                               <input data-field="file_path" id="file_path" name="file_path" class="gi-input" data-focus-span-text-align="center" data-required="true" autocomplete="off"/>
                            </div>
                        </div>

                        <div class="gi-flex gi-grid-gap-20px">
                            <div class="gi-input-container gi-flex-1">
                                <label for="system_create_date" class="gi-input-label" data-focus-label="true"
                                    data-required="true">[Page.Message].Message.Label.Array["COM_FILE_DETAIL.SYSTEM_CREATE_DATE"]</label>
                               <input data-field="system_create_date" id="system_create_date" name="system_create_date" class="gi-input" data-focus-span-text-align="center" data-required="true" autocomplete="off"/>
                            </div>
                        </div>

                        <div class="gi-flex gi-grid-gap-20px">
                            <div class="gi-input-container gi-flex-1">
                                <label for="system_create_userid" class="gi-input-label" data-focus-label="true"
                                    data-required="true">[Page.Message].Message.Label.Array["COM_FILE_DETAIL.SYSTEM_CREATE_USERID"]</label>
                               <input data-field="system_create_userid" id="system_create_userid" name="system_create_userid" class="gi-input" data-focus-span-text-align="center" data-required="true" autocomplete="off"/>
                            </div>
                        </div>

                        <div class="gi-flex gi-grid-gap-20px">
                            <div class="gi-input-container gi-flex-1">
                                <label for="system_update_date" class="gi-input-label" data-focus-label="true"
                                    data-required="false">[Page.Message].Message.Label.Array["COM_FILE_DETAIL.SYSTEM_UPDATE_DATE"]</label>
                               <input data-field="system_update_date" id="system_update_date" name="system_update_date" class="gi-input" data-focus-span-text-align="center" data-required="false" autocomplete="off"/>
                            </div>
                        </div>

                        <div class="gi-flex gi-grid-gap-20px">
                            <div class="gi-input-container gi-flex-1">
                                <label for="system_update_userid" class="gi-input-label" data-focus-label="true"
                                    data-required="false">[Page.Message].Message.Label.Array["COM_FILE_DETAIL.SYSTEM_UPDATE_USERID"]</label>
                               <input data-field="system_update_userid" id="system_update_userid" name="system_update_userid" class="gi-input" data-focus-span-text-align="center" data-required="false" autocomplete="off"/>
                            </div>
                        </div>

                        <div class="gi-flex gi-grid-gap-20px">
                            <div class="gi-input-container gi-flex-1">
                                <label for="menu_code" class="gi-input-label" data-focus-label="true"
                                    data-required="false">[Page.Message].Message.Label.Array["COM_FILE_DETAIL.MENU_CODE"]</label>
                               <input data-field="menu_code" id="menu_code" name="menu_code" class="gi-input" data-focus-span-text-align="center" data-required="false" autocomplete="off"/>
                            </div>
                        </div>

                    </div>
                </div>

                <!-- [파일 첨부 카드] -->
                <div class="gi-article-content gi-margin-bottom-30px">
                    <h2 class="gi-title-section">파일 첨부</h2>
                    <div class="gi-flex gi-flex-column gi-grid-gap-10px">
                        <div class="gi-flex gi-flex-align-items-center gi-grid-gap-20px">
                            <!-- UUID 입력창은 숨김 처리 -->
                            <input data-field="file_uuid" id="sample_file_uuid" name="file_uuid" class="gi-hidden"
                                readonly />

                            <div class="gi-flex-1">
                                <p class="gi-text-secondary gi-font-size-14px">
                                    첨부된 파일 목록을 아래에서 확인할 수 있습니다.
                                </p>
                            </div>
                            <button id="file-upload-btn" class="gi-btn-blue" type="button" data-file-upload-btn>[Page.Message].Message.Label.Array["FILE_REGISTER_BTN"]</button>
                        </div>

                        <!-- 파일 목록 표시 영역 -->
                        <div id="attached-file-list" class="gi-margin-top-10px"
                            style="min-height: 50px; border: 1px solid #f0f1f7; border-radius: 12px; padding: 16px; background: #f8f9fc;">
                            <p class="gi-text-center gi-text-secondary gi-font-size-13px gi-padding-24px"
                                id="no-file-msg">
                                첨부된 파일이 없습니다.
                            </p>
                        </div>
                    </div>
                </div>

                <!-- 버튼 영역 -->
                <div class="gi-flex gi-flex-justify-content-center gi-grid-gap-16px gi-margin-top-40px">
                    <button id="register-reset-btn" class="gi-btn gi-btn-modern-reset" type="button">초기화</button>
                    <button id="register-btn" class="gi-btn-blue gi-btn-modern-save" type="button">[Page.Message].Message.Label.Array["REGISTER_BTN"]</button>
                </div>

            </form>
        </div>
    </section>
</article>
<script type="text/javascript">
    var PRGMID = "comFileDetailRegisterPage";	//page id
    var PRGFID = "comFileDetailRegisterFrom";	//Form id
    init();


    function init(){
         //초기 값 셋팅
        initValueSetting();

        //초기화
        resetEvent();

        setTimeout(function(){
            //페이지 초기설정
            new PageInit();
            //클릭 이벤트
            clickEvent();
        });

    }

    function initValueSetting(){
        // select option 초기화
        //input.setSelectOption("#sample_category", "/cms/common/comCode/find", { code: "code_id", name: "code_name" });

        // 파일 업로드 초기화
        fileUtil.createFileUpload("/fms/common/file/comFileDetail", "sample_file_uuid", "sampleFolder");
    }

    function resetEvent(){
        //데이터 호출 후 이벤트 재설정
        new AfterLoadDataEvent();

    }

    //클릭 이벤트
    function clickEvent(){
        // 초기화 버튼 클릭 이벤트
        $("#register-reset-btn").click(function(){

        });
        //등록 버튼 클릭 이벤트
        $("#register-btn").click(function(){
            comFileDetailRegister();
        })
    }
    function comFileDetailRegister(){
        let flag =  comFileDetailRegisterCheckValidation();
        if(flag){
            let data = dataBinding.getData(PRGFID);
            let url = "/fms/common/comFileDetail/register";
                //console.log(data);
            let param = {

                file_id : data.file_id ,
                uuid : data.uuid ,
                file_name : data.file_name ,
                file_size : data.file_size ,
                file_extension : data.file_extension ,
                file_path : data.file_path ,
                system_create_date : data.system_create_date ,
                system_create_userid : data.system_create_userid ,
                system_update_date : data.system_update_date ,
                system_update_userid : data.system_update_userid ,
                menu_code : data.menu_code 
            };
            axios.post(url,param).then(response =>{
                let status = response.status;
                if (status === 200) {
                    formUtil.toast(Message.Label.Array["COMPLETE.INSERT"],"success");
                } else {
                    formUtil.toast("response status is :" + status,"error");
                }
            }).catch(error => {
                formUtil.toast(error.response.data,"error");
            })
        }
    }
    function comFileDetailRegisterCheckValidation(){
        return formUtil.validationCheck(PRGFID,"COM_FILE_DETAIL.CHECK.");
    }
</script>